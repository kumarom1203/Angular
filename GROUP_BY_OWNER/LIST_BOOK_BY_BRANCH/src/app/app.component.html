<div>
    <input type="checkbox" [(ngModel)]='selectAll' (change)='toggleAllBranch()'> 
    Select All ({{totalSelectedBooksCount()}}/{{bookListDatabase.length}})
</div>
<div *ngFor='let book of bookList; let i = index' class="parent">
  <div>
    <input type="checkbox" [(ngModel)]='book.selected' (change)='toggleBranch(book)'> 
    {{book.name}} ({{selectedBooksCount(book.items)}} / {{book.items.length}})
  </div>
  <div *ngFor='let item of book.items' class="child">
    <input type="checkbox" [(ngModel)]='item.selected' (change)='toggleBook(book)'> 
    {{item.name}}
  </div>
</div>
<div class="button-group">
  <button class="btn" (click)='getSelectedItems()'>GET SELECTED</button>
  <button class="btn" (click)='selectAllAtOnce(true)'>Select All At Once</button>
  <button class="btn" (click)='selectAllAtOnce(false)'>DeSelect All At Once</button>
</div>
{{selectedItems}}